# Payload
```bash
127.0.0.1 && pwd && ls -al && cat flag.py
```
# 검색 키워드
- Bash shell 연속 명령 실행 연산자
# 해설
## 코드 분석
- app.py 파일을 분석한다.
- 19번째 줄에서 GET 방식으로 입력받은 값을 host 변수에 저장한다.
- 20번째 줄에서 `ping -c 3` 뒤에 입력한 값을 그대로 넣어 명령어를 실행한다.
	- 이 때, 어떠한 필터링 없이 입력값을 그대로 사용한다는 점에서 임의의 명령어를 추가로 실행할 방법을 생각해 볼 수 있다.
## 익스플로잇
- 우선 아무 알고 있는 주소를 넣어 본다.
	- 127.0.0.1
	- 8.8.8.8
	- 1.1.1.1 
	- 통신이 되는 아무 ip나 넣어도 좋다.
	- 핑 결과가 잠시 후 화면에 나오는 것을 볼 수 있다.
- 여기에서 ip 뒤에 연속적으로 명령을 실행시킬 수 있는 연산자를 같이 끼워 넣어 본다.
	- 127.0.0.1 이후 && 연산자를 넣고, pwd (현재 경로 출력) 명령어를 실행시켜 본다.
	- 결과가 잘 나온다. 현재 디렉토리 : /app
- 이제 이 경로에 어떤 파일들이 있는지 확인해 본다.
	- 실행 명령어 : `ls -al`
	- 페이로드 : `127.0.0.1 && ls -al`
	- 목록에 flag.py가 보인다.
- 찾은 flag.py에 어떤 내용이 기록되어 있는지 확인해 본다.
	- 실행 명령어 : `cat flag.py`
	- 페이로드 : `127.0.0.1 && cat flag.py`
	- flag의 내용을 찾을 수 있다.
![[Pasted image 20240716210503.png]]
# 참조 링크
- [https://www.opentutorials.org/module/2538/15818](https://www.opentutorials.org/module/2538/15818)